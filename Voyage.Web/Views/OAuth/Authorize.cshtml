@using System.Web
@{
    var authentication = Context.GetOwinContext().Authentication;
    var ticket = authentication.AuthenticateAsync("Application").Result;
    var identity = ticket != null ? ticket.Identity : null;
}
<div class="row">
    <div class="col-md-offset-4 col-md-4">
        <div class="well well-sm">
            <h1>Authorization Server</h1>
            <h2>OAuth2 Authorize</h2>
            <form method="POST">
                <p>Hello, @identity.Name</p>
                <p>A third party application want to do the following on your behalf:</p>
                <ul>
                    @foreach (var scope in ViewBag.Scopes)
                    {
                        <li>@scope</li>
                    }
                </ul>
                <p>
                    <input type="submit" name="submit.Grant" value="Grant" class="btn btn-primary btn-raised btn-lg" style="background-color: #4285f4"/>
                    <input type="submit" name="submit.Login" value="Sign in as different user" class="btn btn-primary btn-raised btn-lg" style="background-color: #4285f4" />
                </p>
            </form>
        </div>
    </div>
</div>

